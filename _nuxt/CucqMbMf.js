import{_ as l}from"./B0zDXpjV.js";import{t as p,a as c,b as v,w,j as y,g as x,l as k,y as u,D as d,A as s,H as m,R as S,Q as T,B as g,u as b}from"./C-D7RAXM.js";import E from"./Cx6GQR7a.js";import{u as C}from"./CyUEWEuS.js";const H={name:"unwrap",root:e=>{const t=e.children[0],n=t.children[0];return{type:"root",children:[{...n,properties:{...t.properties,...n.properties}}]}}},N=h(()=>l(()=>import("./WKLAqvXC.js"),[],import.meta.url)),I=h(()=>l(()=>import("./CsTmP73Z.js"),[],import.meta.url)),P=h(async e=>{const[{getHighlighterCore:t},n,r]=await Promise.all([N(),I(),e]),o=await t({...r.core,loadWasm:n});return o.highlight=(i,a)=>V(i,a,o,r),o},e=>{const t=globalThis.__nuxt_shiki_cache??(globalThis.__nuxt_shiki_cache={}),n=e[1]||"default";return t[n]??(t[n]={})});function V(e,t,n,r){return n.codeToHtml(e,{...r.highlight,...t,lang:t.lang||r.highlight.lang,transformers:[...t.unwrap?[H]:[],...t.transformers||[]]})}function h(e,t){const n=t?void 0:{};return function(...r){const o=n||t(r);if(o.value!==void 0)return o.value;if(o.promise)return o.promise;const i=e(...r);return i instanceof Promise&&(o.promise=i.then(a=>(o.value=a,delete o.promise,a))),o.promise}}async function B(){return P(l(()=>import("./B_U-ahhD.js"),[],import.meta.url).then(e=>e.shikiOptions),"_internal")}async function D(e,t={}){const n=p(e);"themes"in t&&!t.themes&&delete t.themes;const r=c(t.highlighted||"");if(r.value){const i=v(n,()=>{i(),o()})}else await o();function o(){B().then(i=>{w(()=>{r.value=i.highlight(n.value||"",t)})})}return r}const L=y({props:{code:String,lang:String,highlightOptions:Object,as:{type:String,default:"pre"},unwrap:{type:Boolean,default:void 0}},async setup(e){var o,i,a;const t=c(),n=(a=(i=(o=x())==null?void 0:o.vnode)==null?void 0:i.el)==null?void 0:a.innerHTML,r=await D(p(e,"code"),{lang:e.lang,highlighted:n,unwrap:e.unwrap??e.as==="pre",...e.highlightOptions});return{el:t,highlighted:r}},render(){return k(this.as,{innerHTML:this.highlighted,ref:"el"})}}),R={class:"flex flex-col gap-y-2"},q={class:"text-light-extra"},A={class:"relative flex flex-col min-w-50 rounded-md overflow-hidden"},O={key:0,class:"w-full p-3 bg-background-grey text-light text-sm"},z={__name:"CodeSnippet",props:{code:{type:String,required:!0},fileName:{type:String,required:!1},lang:{type:String,required:!1,default:"vue"}},setup(e){const t=e,{setToast:n}=C(),r=c("ph:copy"),o=()=>{r.value="ph:check-square-duotone",navigator.clipboard.writeText(t.code),n(!0,"Copied to clipboard"),setTimeout(()=>{r.value="ph:copy"},2e3)};return(i,a)=>{const f=L,_=E;return u(),d("section",R,[s("h2",null,[m(i.$slots,"title")]),s("p",q,[m(i.$slots,"description")]),s("div",A,[e.fileName?(u(),d("code",O,S(e.fileName),1)):T("",!0),g(f,{code:e.code||"",lang:e.lang,theme:"material-theme-palenight",title:e.fileName,class:"block max-w-full min-h-8 max-h-72 p-2 overflow-x-auto bg-background-code overflow-y-auto"},null,8,["code","lang","title"]),g(_,{name:b(r),class:"absolute top-3 right-4 text-light cursor-pointer z-1",onClick:o},null,8,["name"])])])}}};export{z as _};
